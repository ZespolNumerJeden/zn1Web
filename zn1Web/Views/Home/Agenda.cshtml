@using zn1Web.Utils
@model zn1Web.Models.AgendaViewModel 
@{
    ViewBag.Title = "Agenda";
}

<h2>Agenda</h2>

<div class="container">

	@foreach (var agenda in Model.Grouped)
	{
		<p>Dzień: @agenda.FirstOrDefault().DateTime.ToString("dd MMMM yyyy")</p>
		string accordionId = string.Format("accordion{0}", agenda.FirstOrDefault().DateTime.ToString("ddMMyy"));
		<div class="panel-group" id="@accordionId">
			@foreach (var agendaClass in agenda)
			{
				string col = string.Format("collapse{0}", agendaClass.DateTime.ToString("ddMMyyHHmm"));
				<div class="panel panel-default">
					<div class="panel-heading">
						<h4 class="panel-title">
							<a data-toggle="collapse" data-parent="#@accordionId" href="#@col">
								Godzina: @agendaClass.Time Tytuł: @agendaClass.Title
							</a>
						</h4>
					</div>
					<div id="@col" class="panel-collapse collapse">
						<div class="panel-body">
							<div>Prelegent: @agendaClass.Presenter</div>
							<p>@agendaClass.Description</p>
						</div>
					</div>
				</div>
			}

		</div>
	}
</div>